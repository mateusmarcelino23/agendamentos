<!-- Chamando o estilo do arquivo styles.css -->
<link rel="stylesheet" href="../assets/styles/styles.css" />
<!-- Adicionando Bootstrap -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"
/>
<!-- Adicionando lottiefiles -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>

<!-- Header para mobile -->
<div class="header-mobile">
  <!-- Adicionado classe para header mobile -->
  <nav class="header-mobile__container">
    <!-- Container para alinhar itens -->
    <div class="header-mobile-logo">
      <!-- Logo mobile -->
      <a href="/agendamentos/frontend/pages/dashboard.php">
        <!-- Link para a página inicial -->
        <img src="../assets/img/saeebranco.png" alt="Logo Mobile" />
        <!-- Imagem do logo -->
      </a>
    </div>

    <div class="header-mobile-menu">
      <a href="#" id="toggle"><span></span></a>
    </div>

    <div id="menu">
      <ul>
        <li class="sidebar-item">
          <a href="/agendamentos/frontend/pages/dashboard.php">
            <div
              class="animacao-mobile"
              data-path="../assets/animations/homeicon.json"
            ></div>
            <span>Início</span>
          </a>
        </li>

        <li class="sidebar-item">
          <a href="/agendamentos/frontend/pages/agendamentos.php">
            <div
              class="animacao-mobile"
              data-path="../assets/animations/calendar.json"
            ></div>
            <span>Agendamentos</span>
          </a>
        </li>

        <li class="sidebar-item">
          <a href="/agendamentos/frontend/pages/relatorios.php">
            <div
              class="animacao-mobile"
              data-path="../assets/animations/report.json"
            ></div>
            <span>Relatórios</span>
          </a>
        </li>

        <li class="sidebar-item">
          <a href="/agendamentos/frontend/pages/configuracoes.php">
            <div
              class="animacao-mobile"
              data-path="../assets/animations/settings.json"
            ></div>
            <span>Configurações</span>
          </a>
        </li>

        <li class="sidebar-item">
          <a href="/agendamentos/frontend/pages/suporte.php">
            <div
              class="animacao-mobile"
              data-path="../assets/animations/support.json"
            ></div>
            <span>Suporte</span>
          </a>
        </li>

        <li class="sidebar-item">
          <a href="/agendamentos/frontend/pages/conta.php">
            <div
              class="animacao-mobile"
              data-path="../assets/animations/users.json"
            ></div>
            <span>Conta</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</div>

<!-- Header para desktop -->
<div class="header-desktop">
  <!-- Adicionado classe para header desktop -->
  <div class="header-desktop__container">
    <!-- Container para alinhar itens -->
    <nav class="header-desktop__nav">
      <!-- Navegação desktop -->
      <div class="header-desktop__logo">
        <!-- Logo desktop -->
        <a href="/agendamentos/frontend/pages/dashboard.php">
          <!-- Link para a página inicial -->
          <img src="../assets/img/saeelogo.png" alt="Logo Desktop" />
          <!-- Imagem do logo -->
        </a>
      </div>
      <ul class="nav-menu">
        <li class="nav-menu__item">
          <a href="/agendamentos/frontend/pages/dashboard.php">
            <div
              class="animacao"
              data-path="../assets/animations/homeicon.json"
            ></div>
            <span>Início</span>
          </a>
        </li>

        <li class="nav-menu__item">
          <a href="/agendamentos/frontend/pages/agendamentos.php">
            <div
              class="animacao"
              data-path="../assets/animations/calendar.json"
            ></div>
            <span>Agendamentos</span>
          </a>
        </li>

        <li class="nav-menu__item">
          <a href="/agendamentos/frontend/pages/relatorios.php">
            <div
              class="animacao"
              data-path="../assets/animations/report.json"
            ></div>
            <span>Relatórios</span>
          </a>
        </li>

        <li class="nav-menu__item">
          <a href="/agendamentos/frontend/pages/configuracoes.php">
            <div
              class="animacao"
              data-path="../assets/animations/settings.json"
            ></div>
            <span>Configurações</span>
          </a>
        </li>

        <li class="nav-menu__item">
          <a href="/agendamentos/frontend/pages/suporte.php">
            <div
              class="animacao"
              data-path="../assets/animations/support.json"
            ></div>
            <span>Suporte</span>
          </a>
        </li>

        <li class="nav-menu__item">
          <a href="/agendamentos/frontend/pages/conta.php">
            <div
              class="animacao"
              data-path="../assets/animations/users.json"
            ></div>
            <span>Conta</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- CSS mobile-first -->

<style>
  @media (max-width: 1300px) {
    .header-desktop {
      display: none; /* Esconde o header desktop em telas pequenas */
    }
    .header-mobile {
      display: block; /* Mostra o header mobile em telas pequenas */
    }
  }

  @media (min-width: 1301px) {
    .header-mobile {
      display: none; /* Esconde o header mobile em telas grandes */
    }
    .header-desktop {
      display: block; /* Mostra o header desktop em telas grandes */
    }
  }
</style>

<!-- JavaScript para alternar o menu mobile -->
<script>
  var theToggle = document.getElementById("toggle");
  var menu = document.getElementById("menu");

  theToggle.onclick = function (e) {
    e.preventDefault();
    this.classList.toggle("on"); // animação do botão
    menu.classList.toggle("on"); // mostra/esconde o menu
  };
</script>

<!-- JavaScript para animações mobile -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const animacoes = document.querySelectorAll(".animacao-mobile");

    animacoes.forEach((animDiv) => {
      // Inicializa a animação Lottie
      const anim = lottie.loadAnimation({
        container: animDiv,
        renderer: "svg",
        loop: true,
        autoplay: true, // roda automaticamente
        path: animDiv.dataset.path,
      });

      // Altera a cor de todos os paths para #ff8c00
      anim.addEventListener("DOMLoaded", () => {
        const paths = animDiv.querySelectorAll(
          "path, circle, rect, polygon, line"
        );
        paths.forEach((p) => {
          p.setAttribute("fill", "#ff8c00");
          p.setAttribute("stroke", "#ff8c00");
        });
      });
    });

    // Ajuste visual do ícone de relatórios
    setTimeout(() => {
      const svg = document.querySelector(
        ".sidebar-item:nth-child(3) .animacao-mobile svg"
      );
      if (svg) {
        svg.style.transform = "scale(0.8)";
        svg.style.transformOrigin = "center";
      }
    }, 500);

    // Ajuste visual do último ícone (conta)
    setTimeout(() => {
      const svg = document.querySelector(
        ".sidebar-item:last-child .animacao-mobile svg"
      );
      if (svg) {
        svg.style.transform = "scale(0.7)";
        svg.style.transformOrigin = "center";
      }
    }, 500);
  });
</script>

<!-- JavaScript para Ícones animados desktop -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const animacoes = document.querySelectorAll(".animacao");

    animacoes.forEach((animDiv) => {
      const anim = lottie.loadAnimation({
        container: animDiv,
        renderer: "svg",
        loop: true,
        autoplay: false,
        path: animDiv.dataset.path,
      });

      // Altera a cor de todos os paths
      anim.addEventListener("DOMLoaded", () => {
        const paths = animDiv.querySelectorAll(
          "path, circle, rect, polygon, line"
        );
        paths.forEach((p) => {
          p.setAttribute("fill", "#ff8c00");
          p.setAttribute("stroke", "#ff8c00");
        });
      });

      const menuItem = animDiv.closest(".nav-menu__item");
      const link = menuItem.querySelector("a");

      // Hover normal
      menuItem.addEventListener("mouseover", () => anim.play());
      menuItem.addEventListener("mouseout", () => {
        if (!link.classList.contains("active-page")) {
          anim.stop();
        }
      });

      // Detecta se este item corresponde à página atual
      if (link.getAttribute("href") === window.location.pathname) {
        anim.play(); // animação ligada permanentemente
        link.classList.add("active-page"); // adiciona classe para efeito de hover fixo
      }
    });
  });

  // Ajustes visuais
  document.addEventListener("DOMContentLoaded", () => {
    // Ajuste visual do ícone de relatórios
    setTimeout(() => {
      const svg = document.querySelector(
        ".nav-menu__item:nth-child(3) .animacao svg"
      );
      if (svg) {
        svg.style.transform = "scale(0.8)";
        svg.style.transformOrigin = "center";
      }
    }, 500);

    // Ajuste visual do último ícone (conta)
    setTimeout(() => {
      const svg = document.querySelector(
        ".nav-menu__item:last-child .animacao svg"
      );
      if (svg) {
        svg.style.transform = "scale(0.7)";
        svg.style.transformOrigin = "center";
      }
    }, 500);
  });
</script>

<!-- Adicionando Bootstrap Icons -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
/>
<!-- Adicionando Bootstrap JS -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
  crossorigin="anonymous"
></script>
